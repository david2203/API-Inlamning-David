# API-Inlamning-David

DROP DATABASE IF EXISTS APIendpoints; CREATE DATABASE APIendpoints;

DROP TABLE IF EXISTS sessions;
DROP TABLE IF EXISTS cart;
DROP TABLE IF EXISTS products;
DROP TABLE IF EXISTS users;


CREATE TABLE users (
id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
username VARCHAR(30) NOT NULL,
email VARCHAR(100),
password VARCHAR(150) NOT NULL,
role VARCHAR(5) DEFAULT 'user' 
) ENGINE = InnoDB;

CREATE TABLE products (
id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
name VARCHAR(30) NOT NULL,
description VARCHAR(100) NOT NULL,
image VARCHAR(100),
category VARCHAR(50) NOT NULL,
price INT NOT NULL
) ENGINE = InnoDB;

CREATE TABLE cart (
productId INT NOT NULL,
userId INT NOT NULL,
PRIMARY KEY (productId, userId),
token VARCHAR(100) NOT NULL,
quantity INT NOT NULL,
orderdate DATE NOT NULL,
CONSTRAINT FKproductsId FOREIGN KEY(productId) REFERENCES products(id),
CONSTRAINT FKusersId FOREIGN KEY(userId) REFERENCES users(id)
) ENGINE = innoDB;

CREATE TABLE sessions (
id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
userId INT NOT NULL,
token text NOT NULL,
last_used INT NOT NULL,
CONSTRAINT FKuserId FOREIGN KEY(userId) REFERENCES users(id)
) ENGINE = InnoDB;
